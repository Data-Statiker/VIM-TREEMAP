" vim: filetype=help foldmethod=marker foldmarker=<<<,>>> nomodifiable readonly
*treemap.txt*	For Vim version 7.4.  Last change: 2015 May 01


                	  VIM REFERENCE MANUAL 
                                by 
                           Data Statiker

	  	Treemap extension plugin (treemap.vim) manual
	  	treemap.vim version 0.9.21

For instructions on installing this file, type
	:help add-local-help
|add-local-help| inside Vim.

Homepage: https://github.com/Data-Statiker/VIM-TREEMAP

*treemap* *treemap.vim* *tree_map* *tree_map.vim*

1.  Getting Started			      |treemap-getting-started|
2.  Whats New   			      |treemap-new|
3.  Overview				      |treemap-overview|
4.  Installation                              |treemap-install|
5.  Configuration		              |treemap-configure|
    5.1 Output Type                           |treemap-configure-output|
    5.2 Separator                             |treemap-configure-separator|
    5.3 Colors                                |treemap-configure-color|
    5.4 Size                                  |treemap-configure-size|
    5.5 Title                                 |treemap-configure-title|
    5.6 Logs                                  |treemap-configure-logs|
    5.7 Clipboard                             |treemap-configure-clipboard|
    5.8 Other                                 |treemap-configure-other|
6.  Menu                                      |treemap-menu|
7.  Example                                   |treemap-example|
8.  Colorization                              |treemap-colorization|
9.  Message Handling                          |treemap-message|
10. Commands                                  |treemap-commands|
11. Mappings                                  |treemap-mappings|

{Vi does not have any of this}

==============================================================================
1. Getting Started					*treemap-getting-started*

With the treemap extension plugin for vim you can create treemaps with the
output in a textfile or an imbedded SVG HTML file.

First install the plugin: |treemap-install|

To start the treemap creation:
- load the inputfile
- set the separator (;|,|\t|...) in the menu Plugin->Treemap->Separator
  or with the VIM Command :TmSeparator (<leader>tr)
- set the output type 'VIM' or 'SVG' in the menu Plugin->Treemap->Output Type
  or with the VIM Command :TmOutput
- Run the treemap script in the menu Plugin->Treemap->Run    
  or with the VIM Command :TmRun
  OR
  call the main function: call treemap#main(output,separator)
  for example: - call treemap#main('VIM','\t')
               - call treemap#main(g:tmOutput,g:tmSeparator)

   +-----------------------------------------------------------+ 
   | Note:                                                     |
   | Set tho option wrap to 'nowrap'                           |
   |   :set nowrap!                                            |
   | Otherwise the treemap is displayed wrong. You can set this|
   | option also after drawing the treemap!                    |
   +-----------------------------------------------------------+

  +--------------------------------------------------------------+
  | Note:                                                        |
  | The decimal separator for the input file is in every language|
  | the point "."                                                |
  |      examples:   23.1                                        |
  |                1020.23                                       |
  +--------------------------------------------------------------+

Use commands |TmCreate| and |TmDraw| instead of |TmRun|.

==============================================================================
2.  Whats New						*treemap-new*

Version 0.9.21:
*       Bugfix TmCreate with other separators than "\t" (tab)

Version 0.9.2:
*	New Commands TmCreate and TmDraw
	To seperate the calculating and drawing of treemap
*	Create folders in plugin files for a clear view

Version 0.9.1:
*	Add corresponding VIM COMMANDS for each menu entry: |treemap-commands|
*	Add Mappings for VIM Commands: |treemap-mappings|
*	Set the default width and height in case of Output Type 'VIM'
        to 70*25

Version 0.9:
*	Title for the treemap
*	Initialize g:tmMess / no error occurs by starting "print log"
*	Namespace for treemap global variables: g:tm*
	To avoid incompatibility to other plugins
*	Small changes in the help file

Version 0.8:
*	Introduce the global variables g:tmUx and g:tmUy to set the size from the
	treemap. So the size of the treemap could be changed throug the variables:
	g:tmUx = width
	g:tmUy = height
*	Adapt the menu to set the height and width of the treemap
*	Adapt the menu for printing the log variable g:tmMess
*	Update VIM help file treemap.txt
*	For some parameters in the function treemap#initialize()
  	Only set the variables when they do not exist
*	New function treemap#checkChildParentRelation(matrix,val2Active)
  	Check if every unit has only one parent

Version 0.7:
*	In version 0.7 the output paramater is created for the function
	treemap#main(). The paramater output could have the values "VIM" or
	"SVG".
	VIM: Rectangles are created in a new tab with the signs "-", "|" and "+" 
	SVG: Rectangles are descripted in a SVG structure imbedded in a html
	file 
*	New function treemap#initialize for initializing global variables
*	New parameter separator for the method treemap#main(). So the input
	file could be separated by ";" or "\t" (tab) or any other signs. The values
	of these parameter are for example:
	;	for semicolon separated files
	\t	for tabulator separated files
	Examples: :call treemap#main('VIM',';')
		  :call treemap#main('SVG','\t')
*	Insert 'throw "oops"' in treemap#interruptRun() so the program stops
        in case of error	
*	Create the menu "Plugin - Treemap" tor run the script and set the
        variables g:tmSeparator, g:tmOutput, g:tmColor

Version 0.6:
*	Delete not used functions "treemap#reorgHierachy" and "treemap#reorgHierachy2" with
	all sub functions
*	Rename function "treemap#reorgHierachy3" to "treemap#reorgHierachy"
*	Add a second value column. This value is represented in the treemap through
  	colors (Heat Map). Only SVG-Output. If ther is no val 2 column, the layer 1
  	entries define the color of their childs
  
Version 0.5:
*	In version 0.5 the recursive function "treemap#reorgHierachy2" is substitute
 	through the iterative function "treemap#reorgHierachy3"
*	SVG-Output with fill color

==============================================================================
3. Overview					*treemap-overview*

With the treemap extension plugin for vim you can create treemaps with the
output in a textfile or an imbedded SVG HTML file.

To create a treemap you need an input file. This file has to be character
seperated (CSV) and needs a headline.

Example for an input file:
folder;file;size
treemap;treemap.vim;12
treemap;readme.txt;6
xml;xmlcleaner.vim;16
xml;readme.md;7

To create a treemap do the following:
1  Open this input file in VIM
   vim inputfile.txt

2  Select the correct separator
   Menu:    Plugin->Treemap->Separator
   Command: TmSeparator
   In the example case use the separator "Semicolon ;"

3  Select your favourite output type
   Menu:    Plugin->Treemap->Output Type
   Command: TmOutput
   see |treemap-configure-output| and |treemap-menu| or |TmOutput|
   The standard Output is "VIM <Textfile>"

4a Start the treemap generation
   Menu:    Plugin->Treemap->Run main()
   Command: TmRun
   Mapping: <leader>tr (in most cases <leader> = "\")
   This call needs a headline!
   Then a new tab opens. In case of the output type SVG you get
   the SVG/HTML Code in the new tab and in the other case (VIM)
   the treemap is drawn in the new tab with the signs "|","+" 
   and "-".

4b Instead of using 4a you can also use the commands
   |TmCreate| and |TmDraw|.
   Menu:     Plugin->Treemap->Create create()
             Plugin->Treemap->Draw draw()
   Commands: TmCreate
             TmDraw
   Mappings: <leader>tc
             <leader>td
   TmCreate creates the rectangles and save this to the tmClipboard.
   TmDraw draw the rectangles to the current position of your cursor. 

       +--------------------------------------------------------+
       |Note:                                                   |
       |To use TmCreate you have to select a marked area of the |
       |input data! Don't select a headline!!                   |
       |                                                        |
       |If you use the visual-mode, don't use the command       |
       |":TmCreate". You overwrite your data with that.         |
       |Use instead the menu entry "Create" or <leader>tc.      |
       |(visual-block mode is no problem)                       |
       +--------------------------------------------------------+

       +-------------------------------------------------------------+
       |Note:                                                        |
       |You start the visual mode with: 'v'                          |
       |You start the visual block mode with:                        |
       |<Ctrl-V> Linux                                               |
       |<Ctrl-Q> Windows                                             |
       |Then use the keys "h, j, k, l" to mark the area you want to  |
       |select. (Keys: h - <LEFT>, j - <DOWN>, k - <UP>, l - <RIGHT>)|
       +-------------------------------------------------------------+ 


Instead of use the menu you can set the paramters and start the generation
directly:
- Separator
  variable: g:tmSeparator                    // example: :let g:tmSeparator = ";"
- Output Type
  variable: g:tmOutput                       // example: :let g:tmOutput = "VIM"
- Run the generation
  function treemap#main(output,separator)    // example: :call treemap#main("VIM",";")


Other paramters:

You can change the size of the treemap with the following variables:
- g:tmUx - width                               // example: :let g:tmUx = 230
- g:tmUy - height                              // example: :let g:tmUy = 65
To do that you can use the menu "Plugin"->"Treemap"->"Size"
or the Vim Commands :TmWidth and :TmHeight

If this parameters aren't set, the default values are taken:
VIM:  70 * 25
SVG: 1024 * 768


The title of a treemap can defined in the menu or Command:
   Menu:    Plugin->Treemap->Title g:tmTitle (|treemap-menu|)
   Command: |TmTitle|

After executing this menu point youn can insert the name of your Treemap in a
input popup.

You can also set the variable g:tmTitle directly:
   :let g:tmTitle = "MyTreemapName"

In case of output type "VIM":
   The title is written in line 1 of the output tab
In case of output type "SVG":
   - The title is used in the HTML Header as <title>
   - The title is used as a headline for the SVG graphic

     +-------------------------------------------------------------+
     |Note:                                                        |
     |The decimal separator for the input file is in every language|
     |the point "."                                                |
     |    examples:   23.1                                         |
     |              1020.23                                        |
     +-------------------------------------------------------------+

==============================================================================
4. Installation					*treemap-install*

VIMBALL:
*********
Download the vimball file treemap.vmb from:
http://www.vim.org/scripts/script.php?script_id=5157

Install the vimball file with VIM 
1 Download the file treemap.vmb
2 vim path/treemap.vmb
3 :so %
4 :q

Now you have the menu Plugin->Treemap

GITHUB:
*********
GITHUB Repository:
https://github.com/Data-Statiker/VIM-TREEMAP

When you have the files from GITHUB:
Copy the folders 'autoload', 'doc' and 'plugin' to your local vimfiles:
 ~/.vim/doc
 OR (Windows)
 C:\Users\YourUsername\vimfiles\doc

HELP FILE:
***********
To activate the helpfile in VIM type in command mode:
 :helptags ~/.vim/doc
 OR (Windows)
 :helptags C:\Users\YourUsername\vimfiles\doc

==============================================================================
5. Configuration				*treemap-configure*

    5.1 Output Type                           *treemap-configure-output*
	global variable: g:tmOutput
		Default value: "VIM"
		Defines the output type of the treemap
		- VIM <textfile>: the treemap is drawn in a new tabulator
		  with the signs "|", "-" and "+"
		- SVG <SVG/HTML>: the HTML/SVG code of the treemap is 
		  printed in a new tabulator. Save this file and open it
		  in a browser.
		You can choose the output type in the menu: |treemap-menu|
		Or set the variable directly:
		:let g:tmOutput = "VIM"
		:let g:tmOutput = "SVG"
-----------------------------------------------------------------------------
    5.2 Separator                             *treemap-configure-separator*
	global variable: g:tmSeparator
		Default value: "\t"
		Defines the character of the separator the input file is 
		separated with:
		The following character can be choosen in the menu:
			Semicolon    ;
			Tabulator    \t
                        Vertical Bar |
			Comma        ,
			Slash        /
			Backslash    \
		You can choose any other character by setting the variable
		directly.
		example: let g:tmSeparator = "#"
-----------------------------------------------------------------------------
    5.3 Colors                                *treemap-configure-color*
	global variable: g:tmColor
		A list with three values. The values are colors.
		You can choice all possible colors.
		example: let g:tmColor = ["blue","grey","yellow"]

	global variable: g:tmVal2Interval
		Default value: 20.00
		The interval in percent (%) for colorization if there is
		a second numeric value column. See also |treemap-colorization|.
		The colors are different in the domains:
		* < "g:tmVal2Average - (g:tmVal2Average * g:tmVal2Interval / 100)"
		* >= "g:tmVal2Average - (g:tmVal2Average * g:tmVal2Interval / 100)"
		  && <= "g:tmVal2Average + (g:tmVal2Average * g:tmVal2Interval / 100)"
		* > "g:tmVal2Average + (g:tmVal2Average * g:tmVal2Interval / 100)"

		The interval could only changed by setting the variable
		directly: let g:tmVal2Interval = 30.00

                  +-------------------------------------------------------+
		  |Note:                                                  |
		  |By changing the variable g:tmVal2Interval please always|
                  |specify the value with two decimals.                   |
                  +-------------------------------------------------------+
		
	global variable: g:tmVal2Average
		During the generation of the treemap the average of the
		second numeric value column (if exists) is saved in this
		variable.
-----------------------------------------------------------------------------
    5.4 Size                                  *treemap-configure-size*
	global variable: g:tmUx & g:tmUy
		Defines the size of the treemap.
		g:tmUx -> width / g:tmUy -> height
		In case of output type "VIM":
		 Width:  the number of colums used in the textfile
		 Height: the number of rows used in the textfile
		In case of output type "SVG":
		 Width:  the number of pixels in the SVG graphic
		 Height: the number of pixels in the SVG graphic
		Default values:
		VIM:  70 * 25
		SVG: 1024 * 768
-----------------------------------------------------------------------------
    5.5 Title                                  *treemap-configure-title*
	global variable: g:tmTitle
		Default value: "Treemap"
		Defines the title of the treemap.
		In case of output type "VIM":
		   The title is written in line 1 of the output tab
		In case of output type "SVG":
		   - The title is used in the HTML Header as <title>
		   - The title is used as a headline for the SVG graphic
                You can set the variable directly:
                   :let g:tmTitle = "My Treemap"
-----------------------------------------------------------------------------
    5.6 Logs                                       *treemap-configure-logs*
	global variable: g:tmVerbose
		if "g:tmVerbose == 0" only error messages are displayed
		if "g:tmVerbose == 1" all messages are displayed (includes warnings
				 and informations
		You can only set this parameter by setting the variabel
		directly: :let g:tmVerbose = 1 --> default value = 0

	global variable: g:tmMess
		All messages (errors, warnings, informations) of a treemap
		generation are saved in the this list.

		You can run the function treemap#drawAllMessages(messages,lang)
		to print all messages in a new tab. The new tab is generated
		through the function.
                Same as |TmLog|.

		parameter:
		mess: list of messages (g:tmMess)
		lang: language
		
		example:
		:call treemap#drawAllMessages(g:tmMess,"EN")
-----------------------------------------------------------------------------
    5.7 Clipboard                               *treemap-configure-clipboard*
	global variable: g:tmClipboard
               In case of execute the command TmCreate the calculated
               rectangles are saved in this variable.
               The saved rectangles are necessary for using the command
               TmDraw. This command draw the rectangles of the tmClipboard
               at the position of your cursor
               Don't change this variable.
        global variable: g:tmClipSize
               Default value: {'x':70,'y':25}
               Are the rectangles created with the command |TmCreate| the
               width and height of the generated treemap is saved in this
               dictionary variable {'x':'width','y':'height'}.
               This informations are needed for printing the treemap later
               with |TmDraw|.
               Don't change this variable.
-----------------------------------------------------------------------------
    5.8 Other                                 *treemap-configure-other*
	global variable: g:tmLayNrs
               After a treemap generation in the variable g:tmLayers the
               input entities are saved with their layer number.
               Example: "Entity 1" : 2
                        Means that the entity 1 has the layer number 2.
               Don't change this variable.

	global variable: g:tmLNr
               In this variable is the number of layers saved.
               Don't change this variable.

==============================================================================
6.  Menu                                      *treemap-menu*

Plugin->Treemap->Run main()
Start the treemap generation and call the function
treemap#main(output,separator)
with the variables g:tmOutput and g:tmSeparator

The input window needs a headline!
The output is written in a new tab.

-----------------------------------------------------------------------------

Plugin->Treemap->Create create()
Start the treemap generation and call the function
treemap#create(separator)
with the variable g:tmSeparator

Before starting this command mark an area in visual or visual-block mode. The
content of the marked area is the input data for the generation.
see |visual-mode|
see |visual-block|
(Don't select a headline!!)

This function only calculates the rectangles and the result is saved in
the tmClipboard (g:tmClipboard).
The rectangles are not drawn anywhere.

     +-------------------------------------------------------------+
     |Note:                                                        |
     |You start the visual mode with: 'v'
     |You start the visual block mode with:                        |
     |<Ctrl-V> Linux                                               |
     |<Ctrl-Q> Windows                                             |
     |Then use the keys "h, j, k, l" to mark the area you want to  |
     |select. (Keys: h - <LEFT>, j - <DOWN>, k - <UP>, l - <RIGHT>)|
     +-------------------------------------------------------------+

-----------------------------------------------------------------------------

Plugin->Treemap->Draw draw()
Start a treemap printing and call the function
treemap#draw(output)
with the variable g:tmOutput

The rectangles that are saved in the tmClipboard are drawn at the
current position of your cursor.

-----------------------------------------------------------------------------

Plugin->Treemap->Log g:tmMess
Create a log file.
Print the messages of the variable g:tmMess in a new tab.

-----------------------------------------------------------------------------

Plugin->Treemap->Color
Defines the colors for the rectangles in the SVG output type mode. You have
a choice between triples of colors

-----------------------------------------------------------------------------

Plugin->Treemap->Output Type
Defines the output type of the treemap
- VIM <textfile>: the treemap is drawn in a new tabulator with the signs "|",
  "-" and "+"
- SVG <SVG/HTML>: the HTML/SVG code of the treemap is printed in a new
  tabulator. Save this file and open it in a browser.

-----------------------------------------------------------------------------

Plugin->Treemap->Separator
Defines the character of the separator the input file is separated with
Semicolon     ;
Tabulator     \t
Vertical Bar  |
Comma         ,
Slash         /
Backslash     \

-----------------------------------------------------------------------------

Plugin->Treemap->Size
Defines the size of the treemap. The width and the height.
In case of output type "VIM":
 Width:  the number of colums used in the textfile
 Height: the number of rows used in the textfile
In case of output type "SVG":
 Width:  the number of pixels in the SVG graphic
 Height: the number of pixels in the SVG graphic

-----------------------------------------------------------------------------

Plugin->Treemap->Title
Defines the title of the treemap.
In case of output type "VIM":
   The title is written in line 1 of the output tab
In case of output type "SVG":
   - The title is used in the HTML Header as <title>
   - The title is used as a headline for the SVG graphic

==============================================================================
7.  Example                                   *treemap-example*

Example for an input file:

folder;file;size
treemap;treemap.vim;12
treemap;readme.txt;6
xml;xmlcleaner.vim;16
xml;readme.md;7


Example of an output type "VIM":

+--------------------------------------------------------------------+  
/+----------------------------++------------------------------------+|  
//+-----------------++-------+//+-----------------------++---------+||  
|||treemap.vim      /|readme./xt/xmlcleaner.vim         //readme.md|||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
|||                 ||       ||||                       ||         |||  
//+-----------------++-------+//+-----------------------++---------+||  
/+----------------------------++------------------------------------+|  
+--------------------------------------------------------------------+  


Example of an output type "SVG":

<?xml version="1.0" encoding="ISO-8859-1"?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de">
<head>
<title>Treemap</title>
</head>
<body>
<h1>Treemap</h1>
<svg width="70" height="20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<title>Treemap</title>
<desc>generierte Treemap</desc>
<rect x="2" y="2" width="30" height="18" fill="blue" stroke="black" />
<text x="12" y="22" fill="black">treemap</text>
<rect x="32" y="2" width="38" height="18" fill="grey" stroke="black" />
<text x="42" y="22" fill="black">xml</text>
<rect x="3" y="3" width="19" height="16" fill="blue" stroke="black" />
<text x="13" y="23" fill="black">treemap.vim</text>
<rect x="22" y="3" width="9" height="16" fill="blue" stroke="black" />
<text x="32" y="23" fill="black">readme.txt</text>
<rect x="33" y="3" width="25" height="16" fill="grey" stroke="black" />
<text x="43" y="23" fill="black">xmlcleaner.vim</text>
<rect x="58" y="3" width="11" height="16" fill="grey" stroke="black" />
<text x="68" y="23" fill="black">readme.md</text>
</svg>
</body>
</html>

==============================================================================
8.  Colorization                                   *treemap-colorization*

Only in the output type "SVG" rectangles get a color:
	* If there is only one column with values,
	  the first column fixes the color of all child rectangles
	* If there is a second column with values,
	  the second value fixes the color of the rectangle (Heat Map)

More details to the second case (default values):
* the value in the second value column is < 20% of the avarage of the
    second value column, the color of the rectangle is blue
* the value in the second value column is >= 20% or <= 20% of the avarage
    of the second value column, the color of the rectangle is grey
* the value in the second value column is > 20% of the avarage of the second
    value column, the color of the rectangle is red 

You can change the colors in the global array 'g:tmColor':
  :let g:tmColor = ['blue','grey','red']
OR in the Menu "Plugin -> Treemap -> Color" (|treemap-menu|)

You can change the percentage of the borders in the global variable 'g:tmVal2Interval:
  :let g:tmVal2Interval = 20.00

!! Please always specify the value with two decimals !!

See also |treemap-configure-color|.

==============================================================================
9. Message Handling					*treemap-message*

Definition of errors, informations and warnings

Errors:
								*E0001*
	E0001 DE "Anzahl Ebenen nicht korrekt" 
              EN "Number of layers are incorrect"

	      Def: At least one row has not enough columns.
	           Check your input file.

	      Example of a wrong input file:

	      folder ;file       ;size        | line 1
	      Treemap;treemap.vim;7           | line 2
	      Treemap;treemap.txt;6           | line 3
	      XML    ;xmltest.xml             | line 4
	      XML    ;xmltest.txt;7           | line 5

	      In this case line 4 is one column too short.

								*E0002*
	E0002 DE "Das Programm musste aufgrund eines Fehlers abgebrochen werden"
              EN "The program was interupted cause of errors"

	      Def: There was an error. Because of this error the
	           program has to be stopped.
                   Check the global variable g:tmMess. See also
                                                     |treemap-configure-logs|
                                                     |treemap-menu|

								*E0003*
	E0003 DE "Der letzte Eintrag ist kein numerischer Wert"
	      EN "The last entry is no numeric value"
	      
	      Def: The last entry in every row (without the headline)
                   must be a numeric value.
                   Check your numeric values.

              +-----------------------------------------------+
	      |Note:                                          |
	      |The decimal separator is "." in every language.|
              +-----------------------------------------------+

	      Example of a wrong input file:

	      folder ;file       ;size        | line 1
	      Treemap;treemap.vim;7           | line 2
	      Treemap;treemap.txt;6           | line 3
	      XML    ;xmltest.xml;testval     | line 4
	      XML    ;treemap.txt;7,2         | line 5

	      In this case line 4 and 5 have not a numeric value.
	      Line 4: testval is not a numeric value
	      Line 5: 7,2 is not a numeric value (decimal separator: ".")

	      +------------------------------------------------------------+
	      | Note:                                                      |
	      | This error occurs also when you choose a wrong separator   |
	      | for the input file.                                        |
	      | See also |treemap-configure-separator|                       |
              +------------------------------------------------------------+

								*E0004*
	E0004 DE "Der Rahmen ist zu klein"
	      EN "Frame is too small"
	      
	      Def: The size of the treemap is too small.
                   Check the height and width. See |treemap-configure-size|

								*E0005*
	E0005 DE "Jede Einheit darf nur einer übergeordneten Einheit zugeordnet sein"
              EN "Every unit must have only one parent"
	      
              Def: Every unit in the input file must have only one parent.
                   Check your input file.

	      Example of a wrong input file:

	      folder ;file       ;size        | line 1
	      Treemap;treemap.vim;7           | line 2
	      Treemap;treemap.txt;6           | line 3
	      XML    ;xmltest.xml;4           | line 4
	      XML    ;treemap.txt;7           | line 5

	      In this case treemap.txt has two parents. See line 3 and 5.
	      In line 3 the parent of treemap.txt is Treemap.
	      In line 5 the parent of treemap.txt is XML.

								*E0006*
	E0006 DE "Für diese Funktion (TmCreate) muss ein Bereich markiert sein"
              EN "This function need a marked area"
	      
              Def: The function treemap#create(separator) or the VIM
                   Command TmCreate need a marked area in visual mode
                   or visual-block mode.
                   (Select no headline in the visual marked area!!)
                   see |visual-mode|
                   see |visual-block|

								*E0007*
	E0007 DE "Es sind keine Daten im Zwischenspeicher zum zeichnen vorhanden"
              EN "There are no data to draw in the clipboard"
	      
              Def: There are no data to draw in the clipboard
                   (g:tmClipboard).
                   Please start first TmCreate to fill the clipboard
                   with data.
                   See |TmCreate| and |TmDraw|.

Warnings:
								*W0001*
	W0001 DE "Das Rechteck wird nicht gezeichnet, da Fläche zu gering"
	      EN "The rectangle is not drawn because the area is too small"

	      Def: Is the value of an unit is too small, so that the size of
                   the relevant rectangle is smaller than 3*3 (hight*width)
	           the rectangle is not drawn.
	           This has no influence to the other rectangles.

Informations:
								*I0001*
	I0001 DE "Die Inputparameter sind korrekt"
	      EN "Input paramter are correct"

	      Def: All checks of the input parameters are correct.

								*I0002*
	I0002 DE "Die Parameter wurden erfolgreich eingelesen"
	      EN "Parameter read successfull"

	      Def: The input parameters of the input file are now ready for
	           processing.

								*I0003*
	I0003 DE "Hierachie wurde aufgebaut und Summen ermittelt"
	      EN "Hierachy set up completed / calculating of sums completed"

	      Def: The hierachy of units are build for further processing.
	           The entries in the input file are summarised.

								*I0004*
	I0004 DE "Proportionen wurden ermittelt und Hierachie angereichert"
	      EN "Proportion are calculated and hierachy are enriched"

	      Def: The proportion of the rectangles is calculated.

								*I0005*
	I0005 DE "Rechteck wurde gezeichnet"
	      EN "Rectangle is drawn"

	      Def: One rectangle is drawn.

								*I0006*
	I0006 DE "Der Rahmen wurde gezeichnet"
	      EN "Frame is drawn"

	      Def: The Frame Rectangle of the treemap is drawn.

								*I0007*
	I0007 DE "Jede Einheit bezieht sich auf eine übergerordnete Einheit"
	      EN "Every unit has only one parent"

	      Def: Every unit has only one parent. The error |E0005| did not
                   occur.

All messages of a treemap generation run are savesd in the global variable
g:tmMess. You can create a log file. To do that read:
|treemap-configure-other|
|treemap-menu| - Plugin->Treemap->Log g:tmMess

==============================================================================
10. Commands						*treemap-commands*

For each menu entry there exists a VIM COMMAND (|treemap-menu|):

-----------------------------------------------------------------------------
								*TmRun*
Command: TmRun
Start the treemap generation and call the function
treemap#main(output,separator)
with the variables g:tmOutput and g:tmSeparator

The input window needs a headline!
The output is written in a new tab.

-----------------------------------------------------------------------------
								*TmCreate*
Command: TmCreate
Start the treemap generation and call the function
treemap#create(separator)
with the variable g:tmSeparator

Before starting this command mark an area in visual or visual-block mode.
The content of the marked area is the input data for the generation.
see |visual-mode|
see |visual-block|
(Don't select a headline!!)

This function only calculates the rectangles and the result is saved in
the tmClipboard (g:tmClipboard).
The rectangles are not drawn anywhere.

     +-------------------------------------------------------------+
     |Note:                                                        |
     |You start the visual mode with: 'v'                          |
     |You start the visual block mode with:                        |
     |<Ctrl-V> Linux                                               |
     |<Ctrl-Q> Windows                                             |
     |Then use the keys "h, j, k, l" to mark the area you want to  |
     |select. (Keys: h - <LEFT>, j - <DOWN>, k - <UP>, l - <RIGHT>)|
     +-------------------------------------------------------------+

     +--------------------------------------------------------+
     |Note:                                                   |
     |If you use the visual-mode, don't use the command       |
     |":TmCreate". You overwrite your data with that.         |
     |Use instead the menu entry "Create" or <leader>tc.      |
     |(visual-block mode is no problem)                       |
     +--------------------------------------------------------+

-----------------------------------------------------------------------------
								*TmDraw*
Command: TmDraw
Start a treemap drawing and call the function
treemap#draw(output)
with the variable g:tmOutput

The rectangles that are saved in the tmClipboard are drawn at the
current position of your cursor.

-----------------------------------------------------------------------------
								*TmLog*
Command: TmLog
Create a log file.
Print the messages of the variable g:tmMess in a new tab.
It calls the function treemap#drawAllMessages(g:tmMess,$lang)

-----------------------------------------------------------------------------
								*TmColor*
Command: TmColor
Defines the colors for the rectangles in the SVG output type mode. You have
a choice between triples of colors.
You have to type in the first color then press [Enter] and so on.

-----------------------------------------------------------------------------
								*TmOutput*
Command: TmOutput
Defines the output type of the treemap
- VIM <textfile>: the treemap is drawn in a new tabulator with the signs "|",
  "-" and "+"
- SVG <SVG/HTML>: the HTML/SVG code of the treemap is printed in a new
  tabulator. Save this file and open it in a browser.

-----------------------------------------------------------------------------
								*TmSeparator*
Command: TmSeparator
Defines the character of the separator the input file is separated with
Semicolon     ;
Tabulator     \t
Vertical Bar  |
Comma         ,
Slash         /
Backslash     \
and any other character

-----------------------------------------------------------------------------
							*TmWidth* *TmHeight*
Command: TmWidth
Command: TmHeight
Defines the size of the treemap. The width and the height.
In case of output type "VIM":
 Width:  the number of colums used in the textfile
 Height: the number of rows used in the textfile
In case of output type "SVG":
 Width:  the number of pixels in the SVG graphic
 Height: the number of pixels in the SVG graphic

-----------------------------------------------------------------------------
								*TmTitle*
Command: TmTitle
Defines the title of the treemap.
In case of output type "VIM":
   The title is written in line 1 of the output tab
In case of output type "SVG":
   - The title is used in the HTML Header as <title>
   - The title is used as a headline for the SVG graphic

==============================================================================
11. Mappings						*treemap-mappings*

For the following menu entries / VIM Commands there exists a Mapping:

|    Key       |   Command    |
*******************************
|  <leader>tr  |  |TmRun|       |
|  <leader>tc  |  |TmCreate|    |
|  <leader>td  |  |TmDraw|     |
|  <leader>tl  |  |TmLog|       |

The <leader> is the sign of the variable mapleader. If this variable is
not set the leader key is the backslash "\".
See also: |<leader>|

example:
Type \tr to start the treemap generation (Command :TmRun).

==============================================================================
vim:tw=78:fo=tcq2:ts=8:ft=help:norl:
